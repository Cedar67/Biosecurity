{% extends 'layout.html' %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
<div>
    {% if id == seesionId %}
        <h2>Edit Profile - For Your Own Account</h2> 
    {% elif id != seesionId %}
        <h2>Edit Profile - For Other Account ID={{ account[0] }}</h2> 
    {% endif %}

    <p></p>
    <a href="profile_details?id={{account[0]}}" class="input-lg text-center btn btn-primary btn-sm">View Profile</a>
    <a href="password_reset?id={{account[0]}}" class="input-lg text-center btn btn-primary btn-sm">Reset Password</a>
</div>


<div>
    {% if msg[0] == 1 %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        <strong>{{ msg[1] }}</strong>
    </div>
    {% elif msg[0] == 0 %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        <strong>{{ msg[1] }}</strong>
    </div>
    {% endif %}

    <table>
        <thead>
            <tr>
                <th class="text-center" width="300"></th>
                <th class="text-center" width="1000"></th>
            </tr>
        </thead>
        <tbody>
            
        <form id="result_form" name="result_form" action="/profile_edit" method="post">
            <tr>
                <td>User ID:</td>
                <td>{{ account[0] }}</td>
            </tr>
            <tr>
                <td>User Name:</td>
                {% if role == "Administrator" %}
                <td><input type="text" value="{{ account[10] }}" name="username" placeholder="Input username here" required/></td>
                {% else %}
                <td>{{ account[10] }}</td>
                {% endif %}
            </tr>
            <tr>
                <td>User Position:</td>
                {% if role == "Administrator" %}
                <td><select name="position" id="position" required>
                    {% if account[7] == "Pest Controller" %}
                        <option value="Pest Controller" selected>Pest Controller</option>
                        <option value="Staff">Staff</option>
                        <option value="Administrator">Administrator</option>
                    {% elif account[7] == "Staff" %}
                        <option value="Staff" selected>Staff</option>
                        <option value="Pest Controller">Pest Controller</option>
                        <option value="Administrator">Administrator</option>
                    {% elif account[7] == "Administrator" %}
                        <option value="Staff">Staff</option>
                        <option value="Pest Controller">Pest Controller</option>
                        <option value="Administrator" selected>Administrator</option>
                    {% endif %}
                </select></td>
                {% else %}
                <td>{{ account[7] }}</td>
                {% endif %}
            </tr>
            <tr>
                <td>First Name:</td>
                <td><input type="text" value="{{ account[1] }}" name="firstname" placeholder="Input first name here"/></td>
            </tr>
            <tr>
                <td>Last Name:</td>
                <td><input type="text" value="{{ account[2] }}" name="lastname" placeholder="Input last name here"/></td>
            </tr>
            <tr>
                <td>Email:</td>
                <td><input type="email" value="{{ account[3] }}" name="email" placeholder="Input email here"/></td>
            </tr>
            <tr>
                <td>Address:</td>
                <td><input type="text" value="{{ account[4] }}" name="address" placeholder="Input address here"/></td>
            </tr>
            <tr>
                <td>Phone:</td>
                <td><input type="text" value="{{ account[5] }}" name="phone" placeholder="Input phone here"/></td>
            </tr>
            <tr>
                <td>Date Joined or Hired:</td>
                {% if role == "Administrator" %}
                <td><input type="text" value="{{ account[6] }}" name="datejoined" placeholder="Input date joined here"/></td>
                {% else %}
                <td>{{ account[6] }}</td>
                {% endif %}
            </tr>
            <tr>
                <td>Department:</td>
                {% if role == "Administrator" %}
                <td><select name="department" id="department" required>
                    {% if account[8] == "Controller" %}
                        <option value="Controller" selected>Controller</option>
                        <option value="Staff">Staff</option>
                        <option value="Administrator">Administrator</option>
                    {% elif account[8] == "Staff" %}
                        <option value="Staff" selected>Staff</option>
                        <option value="Controller">Controller</option>
                        <option value="Administrator">Administrator</option>
                    {% elif account[8] == "Administrator" %}
                        <option value="Staff">Staff</option>
                        <option value="Controller">Controller</option>
                        <option value="Administrator" selected>Administrator</option>
                    {% endif %}
                </select></td>
                {% else %}
                <td>{{ account[8] }}</td>
                {% endif %}
            </tr>
            <tr>
                <td>Status:</td>
                {% if role == "Administrator" %}
                <td><select name="status" id="status" required>
                    {% if account[9] == "Inactive" %}
                        <option value="Inactive" selected>Inactive</option>
                        <option value="Active">Active</option>
                    {% elif account[9] == "Active" %}
                    <option value="Inactive">Inactive</option>
                    <option value="Active" selected>Active</option>
                    {% endif %}
                </select></td>
                {% else %}
                <td>{{ account[9] }}</td>
                {% endif %}
            </tr>
            
            <tr>
                <td> 
                    <input type="submit" value="Save" class="btn btn-primary btn-bg" data-toggle="modal" data-target="#myModal"/>
                    <a href="profile_delete?id={{account[0]}}" class="btn btn-primary btn-bg" data-toggle="modal" data-target="#myModal">Delete</a>
                </td>
            </tr>
        </form>
    </tbody>
    </table>

</div>
{% endblock %}